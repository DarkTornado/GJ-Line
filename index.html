<!--
수도권 전철 경의·중앙선 노선도 벡터 이미지
© 2022 Dark Tornado, All rights reserved.
-->
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no width=device-width" />
<meta name="description" content="Subway Map" />
<title>
Subway Map
</title>
</head>
<style>
.bold {
  font-family: NanumSquareBold;
}
.left {
  text-anchor: start;
}
.right {
  text-anchor: end;
}
body {
  font-family: NanumSquare;
  margin: 0px;
  font-size: 40px;
  text-anchor: middle;
  dominant-baseline: middle;
}
polyline, line {
  stroke-width: 15;
  stroke-linejoin: round;
  stroke-linecap: round;
}
circle {
  fill: #FFFFFF;
  stroke : #000000;
  stroke-width: 3;
}
text {
  font-size: 40px;
}
text.info {
  font-size: 30px;
}

div.title{
 background: #00BFA5;
 padding: 13px;
 box-shadow: 0px 4px 5px 0px rgba(0, 0, 0, 0.3);
 width: 100%;
 position: fixed;
 color: #FFFFFF;
 font-size: 20px;
}
span.right{
 float: right;
}
</style>
<body bgcolor=#FFFFFF>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square.css" rel="stylesheet">

<div class=title>
&nbsp;경의·중앙선 실시간 운행정보
</div><br>

<div>

<svg id="map" width=100% viewBox="0 0 3000 1700">
<!--svg id="map" width="3000" height="2000" viewBox="0 0 3000 1700"-->

<!-- 문산 ~ 가좌 ~ 용산 ~ 덕소 -->
<polyline points="
    200,200 2600,200 2800,400 2600,600 400,600
	200,800 400,1000 2600,1000 2800,1200 2600,1400 200,1400
	" fill="none" stroke="#77C4A3" />
<!-- 가좌 ~ 서울역 -->
<polyline points="
    1600,600 1400,800 1200,800
	" fill="none" stroke="#77C4A3" />

<!-- 가좌 ~ 서울역 제외 -->
<circle cx="200" cy="200" r="15" onClick="onIconClicked('문산');" />
<text x=200 y=270 onClick="onTextClicked(this);">문산</text>
<circle cx="400" cy="200" r="15" onClick="onIconClicked('파주');" />
<text x=400 y=270 onClick="onTextClicked(this);">파주</text>
<circle cx="600" cy="200" r="15" onClick="onIconClicked('월롱');" />
<text x=600 y=270 onClick="onTextClicked(this);">월롱</text>
<circle cx="800" cy="200" r="15" onClick="onIconClicked('금촌');" />
<text x=800 y=270 onClick="onTextClicked(this);">금촌</text>
<circle cx="1000" cy="200" r="15" onClick="onIconClicked('금릉');" />
<text x=1000 y=270 onClick="onTextClicked(this);">금릉</text>
<circle cx="1200" cy="200" r="15" onClick="onIconClicked('운정');" />
<text x=1200 y=270 onClick="onTextClicked(this);">운정</text>
<circle cx="1400" cy="200" r="15" onClick="onIconClicked('야당');" />
<text x=1400 y=270 onClick="onTextClicked(this);">야당</text>
<circle cx="1600" cy="200" r="15" onClick="onIconClicked('탄현');" />
<text x=1600 y=270 onClick="onTextClicked(this);">탄현</text>
<circle cx="1800" cy="200" r="15" onClick="onIconClicked('일산');" />
<text x=1800 y=270 onClick="onTextClicked(this);">일산</text>
<circle cx="2000" cy="200" r="15" onClick="onIconClicked('풍산');" />
<text x=2000 y=270 onClick="onTextClicked(this);">풍산</text>
<circle cx="2200" cy="200" r="15" onClick="onIconClicked('백마');" />
<text x=2200 y=270 onClick="onTextClicked(this);">백마</text>
<circle cx="2400" cy="200" r="15" onClick="onIconClicked('곡산');" />
<text x=2400 y=270 onClick="onTextClicked(this);">곡산</text>
<circle cx="2600" cy="200" r="15" onClick="onIconClicked('대곡');" />
<text x=2600 y=270 onClick="onTextClicked(this);">대곡</text>

<circle cx="2800" cy="400" r="15" onClick="onIconClicked('능곡');" />
<text x=2730 y=400 onClick="onTextClicked(this);" class=right>능곡</text>

<circle cx="2600" cy="600" r="15" onClick="onIconClicked('행신');" />
<text x=2600 y=670 onClick="onTextClicked(this);">행신</text>
<circle cx="2400" cy="600" r="15" onClick="onIconClicked('강매');" />
<text x=2400 y=670 onClick="onTextClicked(this);">강매</text>
<circle cx="2200" cy="600" r="15" onClick="onIconClicked('화전');" />
<text x=2200 y=670 onClick="onTextClicked(this);">화전</text>
<circle cx="2000" cy="600" r="15" onClick="onIconClicked('수색');" />
<text x=2000 y=670 onClick="onTextClicked(this);">수색</text>
<circle cx="1800" cy="600" r="15" onClick="onIconClicked('디지털미디어시티');" />
<text x=1800 y=670 onClick="onTextClicked(this);">디지털미디어시티</text>
<circle cx="1600" cy="600" r="15" onClick="onIconClicked('가좌');" />
<text x=1600 y=670 onClick="onTextClicked(this);">가좌</text>
<circle cx="1400" cy="600" r="15" onClick="onIconClicked('홍대입구');" />
<text x=1400 y=670 onClick="onTextClicked(this);">홍대입구</text>
<circle cx="1200" cy="600" r="15" onClick="onIconClicked('서강대');" />
<text x=1200 y=670 onClick="onTextClicked(this);">서강대</text>
<circle cx="1000" cy="600" r="15" onClick="onIconClicked('공덕');" />
<text x=1000 y=670 onClick="onTextClicked(this);">공덕</text>
<circle cx="800" cy="600" r="15" onClick="onIconClicked('효창공원앞');" />
<text x=800 y=670 onClick="onTextClicked(this);">효창공원앞</text>
<circle cx="600" cy="600" r="15" onClick="onIconClicked('용산');" />
<text x=600 y=670 onClick="onTextClicked(this);">용산</text>
<circle cx="400" cy="600" r="15" onClick="onIconClicked('이촌');" />
<text x=400 y=670 onClick="onTextClicked(this);">이촌</text>

<circle cx="200" cy="800" r="15" onClick="onIconClicked('서빙고');" />
<text x=270 y=800 onClick="onTextClicked(this);" class=left>서빙고</text>

<circle cx="400" cy="1000" r="15" onClick="onIconClicked('한남');" />
<text x=400 y=1070 onClick="onTextClicked(this);">한남</text>
<circle cx="600" cy="1000" r="15" onClick="onIconClicked('옥수');" />
<text x=600 y=1070 onClick="onTextClicked(this);">옥수</text>
<circle cx="800" cy="1000" r="15" onClick="onIconClicked('응봉');" />
<text x=800 y=1070 onClick="onTextClicked(this);">응봉</text>
<circle cx="1000" cy="1000" r="15" onClick="onIconClicked('왕십리');" />
<text x=1000 y=1070 onClick="onTextClicked(this);">왕십리</text>
<circle cx="1200" cy="1000" r="15" onClick="onIconClicked('청량리');" />
<text x=1200 y=1070 onClick="onTextClicked(this);">청량리</text>
<circle cx="1400" cy="1000" r="15" onClick="onIconClicked('회기');" />
<text x=1400 y=1070 onClick="onTextClicked(this);">회기</text>
<circle cx="1600" cy="1000" r="15" onClick="onIconClicked('중랑');" />
<text x=1600 y=1070 onClick="onTextClicked(this);">중랑</text>
<circle cx="1800" cy="1000" r="15" onClick="onIconClicked('상봉');" />
<text x=1800 y=1070 onClick="onTextClicked(this);">상봉</text>
<circle cx="2000" cy="1000" r="15" onClick="onIconClicked('망우');" />
<text x=2000 y=1070 onClick="onTextClicked(this);">망우</text>
<circle cx="2200" cy="1000" r="15" onClick="onIconClicked('양원');" />
<text x=2200 y=1070 onClick="onTextClicked(this);">양원</text>
<circle cx="2400" cy="1000" r="15" onClick="onIconClicked('구리');" />
<text x=2400 y=1070 onClick="onTextClicked(this);">구리</text>
<circle cx="2600" cy="1000" r="15" onClick="onIconClicked('도농');" />
<text x=2600 y=1070 onClick="onTextClicked(this);">도농</text>

<circle cx="2800" cy="1200" r="15" onClick="onIconClicked('양정');" />
<text x=2730 y=1200 onClick="onTextClicked(this);" class=right>양정</text>

<circle cx="2600" cy="1400" r="15" onClick="onIconClicked('덕소');" />
<text x=2600 y=1470 onClick="onTextClicked(this);">덕소</text>
<circle cx="2400" cy="1400" r="15" onClick="onIconClicked('도심');" />
<text x=2400 y=1470 onClick="onTextClicked(this);">도심</text>
<circle cx="2200" cy="1400" r="15" onClick="onIconClicked('팔당');" />
<text x=2200 y=1470 onClick="onTextClicked(this);">팔당</text>
<circle cx="2000" cy="1400" r="15" onClick="onIconClicked('운길산');" />
<text x=2000 y=1470 onClick="onTextClicked(this);">운길산</text>
<circle cx="1800" cy="1400" r="15" onClick="onIconClicked('양수');" />
<text x=1800 y=1470 onClick="onTextClicked(this);">양수</text>
<circle cx="1600" cy="1400" r="15" onClick="onIconClicked('신원');" />
<text x=1600 y=1470 onClick="onTextClicked(this);">신원</text>
<circle cx="1400" cy="1400" r="15" onClick="onIconClicked('국수');" />
<text x=1400 y=1470 onClick="onTextClicked(this);">국수</text>
<circle cx="1200" cy="1400" r="15" onClick="onIconClicked('아신');" />
<text x=1200 y=1470 onClick="onTextClicked(this);">아신</text>
<circle cx="1000" cy="1400" r="15" onClick="onIconClicked('오빈');" />
<text x=1000 y=1470 onClick="onTextClicked(this);">오빈</text>
<circle cx="800" cy="1400" r="15" onClick="onIconClicked('양평');" />
<text x=800 y=1470 onClick="onTextClicked(this);">양평</text>
<circle cx="600" cy="1400" r="15" onClick="onIconClicked('원덕');" />
<text x=600 y=1470 onClick="onTextClicked(this);">원덕</text>
<circle cx="400" cy="1400" r="15" onClick="onIconClicked('용문');" />
<text x=400 y=1470 onClick="onTextClicked(this);">용문</text>
<circle cx="200" cy="1400" r="15" onClick="onIconClicked('지평');" />
<text x=200 y=1470 onClick="onTextClicked(this);">지평</text>

<!-- 가좌 ~ 서울역 -->
<circle cx="1400" cy="800" r="15" onClick="onIconClicked('신촌');" />
<text x=1400 y=870 onClick="onTextClicked(this);">신촌</text>
<circle cx="1200" cy="800" r="15" onClick="onIconClicked('서울역');" />
<text x=1200 y=870 onClick="onTextClicked(this);">서울역</text>


<!-- 저작권 표시 -->
<text x=20 y=1680 class='left info'>이 벡터 이미지에는 네이버에서 제공한 나눔글꼴이 적용되어 있습니다.</text>
<text x=2980 y=1680 class='right bold info'>© 2022 Dark Tornado, All rights reserved.</text>

</svg>

</div>
<script>
var pos = [
{x: 200, y: 200, dir: 3, sta: '문산'},
{x: 400, y: 200, dir: 3, sta: '파주'},
{x: 600, y: 200, dir: 3, sta: '월롱'},
{x: 800, y: 200, dir: 3, sta: '금촌'},
{x: 1000, y: 200, dir: 3, sta: '금릉'},
{x: 1200, y: 200, dir: 3, sta: '운정'},
{x: 1400, y: 200, dir: 3, sta: '야당'},
{x: 1600, y: 200, dir: 3, sta: '탄현'},
{x: 1800, y: 200, dir: 3, sta: '일산'},
{x: 2000, y: 200, dir: 3, sta: '풍산'},
{x: 2200, y: 200, dir: 3, sta: '백마'},
{x: 2400, y: 200, dir: 3, sta: '곡산'},
{x: 2600, y: 200, dir: 3, sta: '대곡'},
{x: 2800, y: 400, dir: 0, sta: '능곡'},
{x: 2600, y: 600, dir: 1, sta: '행신'},
{x: 2400, y: 600, dir: 1, sta: '강매'},
{x: 2200, y: 600, dir: 1, sta: '화전'},
{x: 2000, y: 600, dir: 1, sta: '수색'},
{x: 1800, y: 600, dir: 1, sta: '디지털미디어시티'},
{x: 1600, y: 600, dir: 1, sta: '가좌'},
{x: 1400, y: 600, dir: 1, sta: '홍대입구'},
{x: 1200, y: 600, dir: 1, sta: '서강대'},
{x: 1000, y: 600, dir: 1, sta: '공덕'},
{x: 800, y: 600, dir: 1, sta: '효창공원앞'},
{x: 600, y: 600, dir: 1, sta: '용산'},
{x: 400, y: 600, dir: 1, sta: '이촌'},
{x: 200, y: 800, dir: 0, sta: '서빙고'},
{x: 400, y: 1000, dir: 3, sta: '한남'},
{x: 600, y: 1000, dir: 3, sta: '옥수'},
{x: 800, y: 1000, dir: 3, sta: '응봉'},
{x: 1000, y: 1000, dir: 3, sta: '왕십리'},
{x: 1200, y: 1000, dir: 3, sta: '청량리'},
{x: 1400, y: 1000, dir: 3, sta: '회기'},
{x: 1600, y: 1000, dir: 3, sta: '중랑'},
{x: 1800, y: 1000, dir: 3, sta: '상봉'},
{x: 2000, y: 1000, dir: 3, sta: '망우'},
{x: 2200, y: 1000, dir: 3, sta: '양원'},
{x: 2400, y: 1000, dir: 3, sta: '구리'},
{x: 2600, y: 1000, dir: 3, sta: '도농'},
{x: 2800, y: 1200, dir: 0, sta: '양정'},
{x: 2600, y: 1400, dir: 1, sta: '덕소'},
{x: 2400, y: 1400, dir: 1, sta: '도심'},
{x: 2200, y: 1400, dir: 1, sta: '팔당'},
{x: 2000, y: 1400, dir: 1, sta: '운길산'},
{x: 1800, y: 1400, dir: 1, sta: '양수'},
{x: 1600, y: 1400, dir: 1, sta: '신원'},
{x: 1400, y: 1400, dir: 1, sta: '국수'},
{x: 1200, y: 1400, dir: 1, sta: '아신'},
{x: 1000, y: 1400, dir: 1, sta: '오빈'},
{x: 800, y: 1400, dir: 1, sta: '양평'},
{x: 600, y: 1400, dir: 1, sta: '원덕'},
{x: 400, y: 1400, dir: 1, sta: '용문'},
{x: 200, y: 1400, dir: 1, sta: '지평'},
{x: 1400, y: 800, dir: 1, sta: '신촌'},
{x: 1200, y: 800, dir: 1, sta: '서울'}
];

function update() {
var req = new XMLHttpRequest();
req.open('GET', 'https://darktornado.net/subway/gj-line/');
req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
//req.setRequestHeader('Cache-Control', 'no-cache');
req.send();
req.onreadystatechange = function(e) {
    if (this.readyState == 4 && req.status === 200) {
        data = (req.responseText + '').trim();
        if (data != '') {
            applyData(data);
        }
    } else {
        //alert(e);
    }
};
}
update();

function applyData(data){
data = JSON.parse(data);
const map = document.getElementById("map").innerHTML;

var src = '';
data.forEach((e, i) => {
e.sta
src += train(pos[i].x, pos[i].y, pos[i].dir, e.up, true);
src += train(pos[i].x, pos[i].y, pos[i].dir, e.down, false);
});
document.getElementById("map").innerHTML = map + src;
}

function train(x, y, dir, type, isUp){
if (!isUp) dir += 2;
if (dir > 4) dir -= 4;
var icons = ['no_train', 'train'];
var dirs = [0, 90, 180, 270];
var xx = [-35, 0, 35, 0];
var yy = [0, -35, 0, 35];
x = x - 20 + xx[dir];
y = y - 20 + yy[dir];
return "<image xlink:href='images/"+icons[type]+".svg' x='"+x+"' y='"+y+"' width='40px' transform='rotate("+dirs[dir]+","+(x+20)+","+(y+20)+")'/>";
}


function onIconClicked(station) {
alert('아이콘: ' + station);
}

function onTextClicked(element) {
alert('글자: ' + element.innerHTML.replace(/(<([^>]+)>)/g, ''));
}

</script>
</body>
</html>
